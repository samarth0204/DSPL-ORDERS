var Ie=e=>{throw TypeError(e)};var je=(e,t,r)=>t.has(e)||Ie("Cannot "+r);var w=(e,t,r)=>(je(e,t,"read from private field"),r?r.call(e):t.get(e)),Z=(e,t,r)=>t.has(e)?Ie("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ee=(e,t,r,n)=>(je(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),te=(e,t,r)=>(je(e,t,"access private method"),r);import{c as bt,b as Ct,s as Pt,h as De,g as wt,n as He,d as Ue,r as i,e as zt,f as jt,j as s,R as Qe,C as We,i as O,k as Bt,X as St,T as Rt,P as Je,O as Xe,l as Ye,m as Et,o as kt,p as Nt,q as H,t as Ze,v as M,w as fe,A as et,x as tt,y as At,z as Ot,B as Mt,D as Kt,E as It,F as Dt,G as _t,H as Ft,J as Tt,K as he,S as $t,M as Ee,N as Vt,Q as qt,U as Lt,V as Gt,W as Ht,Y as Ut,Z as _e,_ as Qt,$ as Wt,a0 as Jt,a1 as me,a2 as ge,a3 as Xt,a4 as Yt,a5 as Zt,a6 as er,a7 as tr}from"./index-BXZNWf29.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["path",{d:"M5 12h14",key:"1ays0h"}]],sr=bt("minus",rr);var T,$,E,D,_,Pe,ke,Ge,ar=(Ge=class extends Ct{constructor(t,r){super();Z(this,_);Z(this,T);Z(this,$);Z(this,E);Z(this,D);ee(this,T,t),this.setOptions(r),this.bindMethods(),te(this,_,Pe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=w(this,T).defaultMutationOptions(t),Pt(this.options,r)||w(this,T).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,E),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&De(r.mutationKey)!==De(this.options.mutationKey)?this.reset():((n=w(this,E))==null?void 0:n.state.status)==="pending"&&w(this,E).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=w(this,E))==null||t.removeObserver(this)}onMutationUpdate(t){te(this,_,Pe).call(this),te(this,_,ke).call(this,t)}getCurrentResult(){return w(this,$)}reset(){var t;(t=w(this,E))==null||t.removeObserver(this),ee(this,E,void 0),te(this,_,Pe).call(this),te(this,_,ke).call(this)}mutate(t,r){var n;return ee(this,D,r),(n=w(this,E))==null||n.removeObserver(this),ee(this,E,w(this,T).getMutationCache().build(w(this,T),this.options)),w(this,E).addObserver(this),w(this,E).execute(t)}},T=new WeakMap,$=new WeakMap,E=new WeakMap,D=new WeakMap,_=new WeakSet,Pe=function(){var r;const t=((r=w(this,E))==null?void 0:r.state)??wt();ee(this,$,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ke=function(t){He.batch(()=>{var r,n,o,l,c,u,h,d;if(w(this,D)&&this.hasListeners()){const m=w(this,$).variables,f=w(this,$).context;(t==null?void 0:t.type)==="success"?((n=(r=w(this,D)).onSuccess)==null||n.call(r,t.data,m,f),(l=(o=w(this,D)).onSettled)==null||l.call(o,t.data,null,m,f)):(t==null?void 0:t.type)==="error"&&((u=(c=w(this,D)).onError)==null||u.call(c,t.error,m,f),(d=(h=w(this,D)).onSettled)==null||d.call(h,void 0,t.error,m,f))}this.listeners.forEach(m=>{m(w(this,$))})})},Ge);function or(e,t){const r=Ue(),[n]=i.useState(()=>new ar(r,e));i.useEffect(()=>{n.setOptions(e)},[n,e]);const o=i.useSyncExternalStore(i.useCallback(c=>n.subscribe(He.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=i.useCallback((c,u)=>{n.mutate(c,u).catch(zt)},[n]);if(o.error&&jt(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function nr({...e}){return s.jsx(Qe,{"data-slot":"dialog",...e})}function ir({...e}){return s.jsx(Je,{"data-slot":"dialog-portal",...e})}function lr({className:e,...t}){return s.jsx(Xe,{"data-slot":"dialog-overlay",className:O("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function cr({className:e,children:t,showCloseButton:r=!0,...n}){return s.jsxs(ir,{"data-slot":"dialog-portal",children:[s.jsx(lr,{}),s.jsxs(We,{"data-slot":"dialog-content",className:O("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r&&s.jsxs(Bt,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(St,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function dr({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:O("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ur({className:e,...t}){return s.jsx(Rt,{"data-slot":"dialog-title",className:O("text-lg leading-none font-semibold",e),...t})}var we="Popover",[rt,gs]=Nt(we,[Ye]),ve=Ye(),[mr,q]=rt(we),st=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:l,modal:c=!1}=e,u=ve(t),h=i.useRef(null),[d,m]=i.useState(!1),[f,b]=Et({prop:n,defaultProp:o??!1,onChange:l,caller:we});return s.jsx(kt,{...u,children:s.jsx(mr,{scope:t,contentId:H(),triggerRef:h,open:f,onOpenChange:b,onOpenToggle:i.useCallback(()=>b(C=>!C),[b]),hasCustomAnchor:d,onCustomAnchorAdd:i.useCallback(()=>m(!0),[]),onCustomAnchorRemove:i.useCallback(()=>m(!1),[]),modal:c,children:r})})};st.displayName=we;var at="PopoverAnchor",pr=i.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=q(at,r),l=ve(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=o;return i.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(et,{...l,...n,ref:t})});pr.displayName=at;var ot="PopoverTrigger",nt=i.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=q(ot,r),l=ve(r),c=Ze(t,o.triggerRef),u=s.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ut(o.open),...n,ref:c,onClick:fe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:s.jsx(et,{asChild:!0,...l,children:u})});nt.displayName=ot;var Oe="PopoverPortal",[gr,fr]=rt(Oe,{forceMount:void 0}),it=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,l=q(Oe,t);return s.jsx(gr,{scope:t,forceMount:r,children:s.jsx(tt,{present:r||l.open,children:s.jsx(At,{asChild:!0,container:o,children:n})})})};it.displayName=Oe;var ae="PopoverContent",lt=i.forwardRef((e,t)=>{const r=fr(ae,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,l=q(ae,e.__scopePopover);return s.jsx(tt,{present:n||l.open,children:l.modal?s.jsx(vr,{...o,ref:t}):s.jsx(xr,{...o,ref:t})})});lt.displayName=ae;var hr=Kt("PopoverContent.RemoveScroll"),vr=i.forwardRef((e,t)=>{const r=q(ae,e.__scopePopover),n=i.useRef(null),o=Ze(t,n),l=i.useRef(!1);return i.useEffect(()=>{const c=n.current;if(c)return Ot(c)},[]),s.jsx(Mt,{as:hr,allowPinchZoom:!0,children:s.jsx(ct,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),l.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,d=u.button===2||h;l.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),xr=i.forwardRef((e,t)=>{const r=q(ae,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return s.jsx(ct,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{var h,d;(h=e.onInteractOutside)==null||h.call(e,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;((d=r.triggerRef.current)==null?void 0:d.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),ct=i.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,...f}=e,b=q(ae,r),C=ve(r);return It(),s.jsx(Dt,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:s.jsx(_t,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Ft,{"data-state":ut(b.open),role:"dialog",id:b.contentId,...C,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dt="PopoverClose",yr=i.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=q(dt,r);return s.jsx(M.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>o.onOpenChange(!1))})});yr.displayName=dt;var br="PopoverArrow",Cr=i.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=ve(r);return s.jsx(Tt,{...o,...n,ref:t})});Cr.displayName=br;function ut(e){return e?"open":"closed"}var Pr=st,wr=nt,zr=it,jr=lt;function Br({...e}){return s.jsx(Pr,{"data-slot":"popover",...e})}function Sr({...e}){return s.jsx(wr,{"data-slot":"popover-trigger",...e})}function Rr({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(zr,{children:s.jsx(jr,{"data-slot":"popover-content",align:t,sideOffset:r,className:O("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}var Fe=1,Er=.9,kr=.8,Nr=.17,Be=.1,Se=.999,Ar=.9999,Or=.99,Mr=/[\\\/_+.#"@\[\(\{&]/,Kr=/[\\\/_+.#"@\[\(\{&]/g,Ir=/[\s-]/,mt=/[\s-]/g;function Ne(e,t,r,n,o,l,c){if(l===t.length)return o===e.length?Fe:Or;var u=`${o},${l}`;if(c[u]!==void 0)return c[u];for(var h=n.charAt(l),d=r.indexOf(h,o),m=0,f,b,C,k;d>=0;)f=Ne(e,t,r,n,d+1,l+1,c),f>m&&(d===o?f*=Fe:Mr.test(e.charAt(d-1))?(f*=kr,C=e.slice(o,d-1).match(Kr),C&&o>0&&(f*=Math.pow(Se,C.length))):Ir.test(e.charAt(d-1))?(f*=Er,k=e.slice(o,d-1).match(mt),k&&o>0&&(f*=Math.pow(Se,k.length))):(f*=Nr,o>0&&(f*=Math.pow(Se,d-o))),e.charAt(d)!==t.charAt(l)&&(f*=Ar)),(f<Be&&r.charAt(d-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&r.charAt(d-1)!==n.charAt(l))&&(b=Ne(e,t,r,n,d+1,l+2,c),b*Be>f&&(f=b*Be)),f>m&&(m=f),d=r.indexOf(h,d+1);return c[u]=m,m}function Te(e){return e.toLowerCase().replace(mt," ")}function Dr(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Ne(e,t,Te(e),Te(t),0,0,{})}var pe='[cmdk-group=""]',Re='[cmdk-group-items=""]',_r='[cmdk-group-heading=""]',pt='[cmdk-item=""]',$e=`${pt}:not([aria-disabled="true"])`,Ae="cmdk-item-select",re="data-value",Fr=(e,t,r)=>Dr(e,t,r),gt=i.createContext(void 0),xe=()=>i.useContext(gt),ft=i.createContext(void 0),Me=()=>i.useContext(ft),ht=i.createContext(void 0),vt=i.forwardRef((e,t)=>{let r=se(()=>{var a,g;return{search:"",value:(g=(a=e.value)!=null?a:e.defaultValue)!=null?g:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=se(()=>new Set),o=se(()=>new Map),l=se(()=>new Map),c=se(()=>new Set),u=xt(e),{label:h,children:d,value:m,onValueChange:f,filter:b,shouldFilter:C,loop:k,disablePointerSelection:oe=!1,vimBindings:K=!0,...Q}=e,ne=H(),be=H(),ie=H(),N=i.useRef(null),P=Jr();U(()=>{if(m!==void 0){let a=m.trim();r.current.value=a,S.emit()}},[m]),U(()=>{P(6,Ce)},[]);let S=i.useMemo(()=>({subscribe:a=>(c.current.add(a),()=>c.current.delete(a)),snapshot:()=>r.current,setState:(a,g,v)=>{var p,x,y,R;if(!Object.is(r.current[a],g)){if(r.current[a]=g,a==="search")J(),z(),P(1,L);else if(a==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let B=document.getElementById(ie);B?B.focus():(p=document.getElementById(ne))==null||p.focus()}if(P(7,()=>{var B;r.current.selectedItemId=(B=A())==null?void 0:B.id,S.emit()}),v||P(5,Ce),((x=u.current)==null?void 0:x.value)!==void 0){let B=g??"";(R=(y=u.current).onValueChange)==null||R.call(y,B);return}}S.emit()}},emit:()=>{c.current.forEach(a=>a())}}),[]),W=i.useMemo(()=>({value:(a,g,v)=>{var p;g!==((p=l.current.get(a))==null?void 0:p.value)&&(l.current.set(a,{value:g,keywords:v}),r.current.filtered.items.set(a,j(g,v)),P(2,()=>{z(),S.emit()}))},item:(a,g)=>(n.current.add(a),g&&(o.current.has(g)?o.current.get(g).add(a):o.current.set(g,new Set([a]))),P(3,()=>{J(),z(),r.current.value||L(),S.emit()}),()=>{l.current.delete(a),n.current.delete(a),r.current.filtered.items.delete(a);let v=A();P(4,()=>{J(),(v==null?void 0:v.getAttribute("id"))===a&&L(),S.emit()})}),group:a=>(o.current.has(a)||o.current.set(a,new Set),()=>{l.current.delete(a),o.current.delete(a)}),filter:()=>u.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:ne,inputId:ie,labelId:be,listInnerRef:N}),[]);function j(a,g){var v,p;let x=(p=(v=u.current)==null?void 0:v.filter)!=null?p:Fr;return a?x(a,r.current.search,g):0}function z(){if(!r.current.search||u.current.shouldFilter===!1)return;let a=r.current.filtered.items,g=[];r.current.filtered.groups.forEach(p=>{let x=o.current.get(p),y=0;x.forEach(R=>{let B=a.get(R);y=Math.max(B,y)}),g.push([p,y])});let v=N.current;F().sort((p,x)=>{var y,R;let B=p.getAttribute("id"),G=x.getAttribute("id");return((y=a.get(G))!=null?y:0)-((R=a.get(B))!=null?R:0)}).forEach(p=>{let x=p.closest(Re);x?x.appendChild(p.parentElement===x?p:p.closest(`${Re} > *`)):v.appendChild(p.parentElement===v?p:p.closest(`${Re} > *`))}),g.sort((p,x)=>x[1]-p[1]).forEach(p=>{var x;let y=(x=N.current)==null?void 0:x.querySelector(`${pe}[${re}="${encodeURIComponent(p[0])}"]`);y==null||y.parentElement.appendChild(y)})}function L(){let a=F().find(v=>v.getAttribute("aria-disabled")!=="true"),g=a==null?void 0:a.getAttribute(re);S.setState("value",g||void 0)}function J(){var a,g,v,p;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let x=0;for(let y of n.current){let R=(g=(a=l.current.get(y))==null?void 0:a.value)!=null?g:"",B=(p=(v=l.current.get(y))==null?void 0:v.keywords)!=null?p:[],G=j(R,B);r.current.filtered.items.set(y,G),G>0&&x++}for(let[y,R]of o.current)for(let B of R)if(r.current.filtered.items.get(B)>0){r.current.filtered.groups.add(y);break}r.current.filtered.count=x}function Ce(){var a,g,v;let p=A();p&&(((a=p.parentElement)==null?void 0:a.firstChild)===p&&((v=(g=p.closest(pe))==null?void 0:g.querySelector(_r))==null||v.scrollIntoView({block:"nearest"})),p.scrollIntoView({block:"nearest"}))}function A(){var a;return(a=N.current)==null?void 0:a.querySelector(`${pt}[aria-selected="true"]`)}function F(){var a;return Array.from(((a=N.current)==null?void 0:a.querySelectorAll($e))||[])}function X(a){let g=F()[a];g&&S.setState("value",g.getAttribute(re))}function Y(a){var g;let v=A(),p=F(),x=p.findIndex(R=>R===v),y=p[x+a];(g=u.current)!=null&&g.loop&&(y=x+a<0?p[p.length-1]:x+a===p.length?p[0]:p[x+a]),y&&S.setState("value",y.getAttribute(re))}function le(a){let g=A(),v=g==null?void 0:g.closest(pe),p;for(;v&&!p;)v=a>0?Qr(v,pe):Wr(v,pe),p=v==null?void 0:v.querySelector($e);p?S.setState("value",p.getAttribute(re)):Y(a)}let ce=()=>X(F().length-1),de=a=>{a.preventDefault(),a.metaKey?ce():a.altKey?le(1):Y(1)},ue=a=>{a.preventDefault(),a.metaKey?X(0):a.altKey?le(-1):Y(-1)};return i.createElement(M.div,{ref:t,tabIndex:-1,...Q,"cmdk-root":"",onKeyDown:a=>{var g;(g=Q.onKeyDown)==null||g.call(Q,a);let v=a.nativeEvent.isComposing||a.keyCode===229;if(!(a.defaultPrevented||v))switch(a.key){case"n":case"j":{K&&a.ctrlKey&&de(a);break}case"ArrowDown":{de(a);break}case"p":case"k":{K&&a.ctrlKey&&ue(a);break}case"ArrowUp":{ue(a);break}case"Home":{a.preventDefault(),X(0);break}case"End":{a.preventDefault(),ce();break}case"Enter":{a.preventDefault();let p=A();if(p){let x=new Event(Ae);p.dispatchEvent(x)}}}}},i.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:Yr},h),ze(e,a=>i.createElement(ft.Provider,{value:S},i.createElement(gt.Provider,{value:W},a))))}),Tr=i.forwardRef((e,t)=>{var r,n;let o=H(),l=i.useRef(null),c=i.useContext(ht),u=xe(),h=xt(e),d=(n=(r=h.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;U(()=>{if(!d)return u.item(o,c==null?void 0:c.id)},[d]);let m=yt(o,l,[e.value,e.children,l],e.keywords),f=Me(),b=V(P=>P.value&&P.value===m.current),C=V(P=>d||u.filter()===!1?!0:P.search?P.filtered.items.get(o)>0:!0);i.useEffect(()=>{let P=l.current;if(!(!P||e.disabled))return P.addEventListener(Ae,k),()=>P.removeEventListener(Ae,k)},[C,e.onSelect,e.disabled]);function k(){var P,S;oe(),(S=(P=h.current).onSelect)==null||S.call(P,m.current)}function oe(){f.setState("value",m.current,!0)}if(!C)return null;let{disabled:K,value:Q,onSelect:ne,forceMount:be,keywords:ie,...N}=e;return i.createElement(M.div,{ref:he(l,t),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!K,"aria-selected":!!b,"data-disabled":!!K,"data-selected":!!b,onPointerMove:K||u.getDisablePointerSelection()?void 0:oe,onClick:K?void 0:k},e.children)}),$r=i.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...l}=e,c=H(),u=i.useRef(null),h=i.useRef(null),d=H(),m=xe(),f=V(C=>o||m.filter()===!1?!0:C.search?C.filtered.groups.has(c):!0);U(()=>m.group(c),[]),yt(c,u,[e.value,e.heading,h]);let b=i.useMemo(()=>({id:c,forceMount:o}),[o]);return i.createElement(M.div,{ref:he(u,t),...l,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&i.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),ze(e,C=>i.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},i.createElement(ht.Provider,{value:b},C))))}),Vr=i.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=i.useRef(null),l=V(c=>!c.search);return!r&&!l?null:i.createElement(M.div,{ref:he(o,t),...n,"cmdk-separator":"",role:"separator"})}),qr=i.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,l=Me(),c=V(d=>d.search),u=V(d=>d.selectedItemId),h=xe();return i.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),i.createElement(M.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:o?e.value:c,onChange:d=>{o||l.setState("search",d.target.value),r==null||r(d.target.value)}})}),Lr=i.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,l=i.useRef(null),c=i.useRef(null),u=V(d=>d.selectedItemId),h=xe();return i.useEffect(()=>{if(c.current&&l.current){let d=c.current,m=l.current,f,b=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let C=d.offsetHeight;m.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return b.observe(d),()=>{cancelAnimationFrame(f),b.unobserve(d)}}},[]),i.createElement(M.div,{ref:he(l,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:h.listId},ze(e,d=>i.createElement("div",{ref:he(c,h.listInnerRef),"cmdk-list-sizer":""},d)))}),Gr=i.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:l,container:c,...u}=e;return i.createElement(Qe,{open:r,onOpenChange:n},i.createElement(Je,{container:c},i.createElement(Xe,{"cmdk-overlay":"",className:o}),i.createElement(We,{"aria-label":e.label,"cmdk-dialog":"",className:l},i.createElement(vt,{ref:t,...u}))))}),Hr=i.forwardRef((e,t)=>V(r=>r.filtered.count===0)?i.createElement(M.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ur=i.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...l}=e;return i.createElement(M.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ze(e,c=>i.createElement("div",{"aria-hidden":!0},c)))}),ye=Object.assign(vt,{List:Lr,Item:Tr,Input:qr,Group:$r,Separator:Vr,Dialog:Gr,Empty:Hr,Loading:Ur});function Qr(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Wr(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function xt(e){let t=i.useRef(e);return U(()=>{t.current=e}),t}var U=typeof window>"u"?i.useEffect:i.useLayoutEffect;function se(e){let t=i.useRef();return t.current===void 0&&(t.current=e()),t}function V(e){let t=Me(),r=()=>e(t.snapshot());return i.useSyncExternalStore(t.subscribe,r,r)}function yt(e,t,r,n=[]){let o=i.useRef(),l=xe();return U(()=>{var c;let u=(()=>{var d;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(d=m.current.textContent)==null?void 0:d.trim():o.current}})(),h=n.map(d=>d.trim());l.value(e,u,h),(c=t.current)==null||c.setAttribute(re,u),o.current=u}),o}var Jr=()=>{let[e,t]=i.useState(),r=se(()=>new Map);return U(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function Xr(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ze({asChild:e,children:t},r){return e&&i.isValidElement(t)?i.cloneElement(Xr(t),{ref:t.ref},r(t.props.children)):r(t)}var Yr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Zr({className:e,...t}){return s.jsx(ye,{"data-slot":"command",className:O("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function es({className:e,...t}){return s.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[s.jsx($t,{className:"size-4 shrink-0 opacity-50"}),s.jsx(ye.Input,{"data-slot":"command-input",className:O("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function ts({...e}){return s.jsx(ye.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function rs({className:e,...t}){return s.jsx(ye.Group,{"data-slot":"command-group",className:O("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function ss({className:e,...t}){return s.jsx(ye.Item,{"data-slot":"command-item",className:O("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const Ve=e=>{let t;const r=new Set,n=(d,m)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const b=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(C=>C(t,b))}},o=()=>t,u={setState:n,getState:o,getInitialState:()=>h,subscribe:d=>(r.add(d),()=>r.delete(d))},h=t=e(n,o,u);return u},as=e=>e?Ve(e):Ve,os=e=>e;function ns(e,t=os){const r=Ee.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Ee.useDebugValue(r),r}const qe=e=>{const t=as(e),r=n=>ns(t,n);return Object.assign(r,t),r},is=e=>e?qe(e):qe,ls=[{name:"Mirchi Gold",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Haldi Gold",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Dhaniya Gold",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Mirchi Royal",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Haldi Royal",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Dhaniya Royal",sizes:[{size:"1 kg",orderBy:["Bag","Kg"]},{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]},{size:"100gm",orderBy:["Bag","Kg"]}]},{name:"Mirchi VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]},{size:"20 Rs",orderBy:["PKT","Bag"]}]},{name:"Haldi VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]},{size:"20 Rs",orderBy:["PKT","Bag"]}]},{name:"Dhaniya VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]},{size:"20 Rs",orderBy:["PKT","Bag"]}]},{name:"Jeeravan VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]}]},{name:"Chicken VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]}]},{name:"Mutton VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]}]},{name:"Garam VAP",sizes:[{size:"10 Rs",orderBy:["PKT","Bag"]}]},{name:"Achar Masala Gold",sizes:[{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]}]},{name:"Achar Masala Royal",sizes:[{size:"500gm",orderBy:["Bag","Kg"]},{size:"200gm",orderBy:["Bag","Kg"]}]},{name:"Chana Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Chat Masala",sizes:[{size:"100gm",orderBy:["Pcs"]},{size:"500gm",orderBy:["Kg"]}]},{name:"Chicken Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"jeeravan Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"kashmiri Mirch",sizes:[{size:"100gm",orderBy:["Pcs"]},{size:"500gm",orderBy:["Kg"]}]},{name:"Kasuri Methi",sizes:[{size:"100gm",orderBy:["Kg","Pcs"]},{size:"25gm",orderBy:["Pcs"]}]},{name:"Kitchen King",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Mutton Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Sambhar Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Pav Bhaji Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Dahi Vada Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Sabji Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Shahi Paneer Masala",sizes:[{size:"100gm",orderBy:["Pcs"]}]},{name:"Amchoor",sizes:[{size:"100gm",orderBy:["Pcs"]}]}],cs=is(()=>({availableProducts:ls})),Le=({label:e,value:t,onChange:r,options:n,placeholder:o,className:l})=>s.jsxs("div",{className:O("w-full space-y-1",l),children:[s.jsx(Vt,{className:"text-xs font-medium text-muted-foreground",children:e}),s.jsxs(qt,{value:t,onValueChange:r,children:[s.jsx(Lt,{className:"w-full h-10 text-sm",children:s.jsx(Gt,{placeholder:o||"Select"})}),s.jsx(Ht,{children:n.map(c=>s.jsx(Ut,{value:c,children:c},c))})]})]}),ds=()=>{const e=Ue();return or({mutationFn:async t=>(await Qt.post("http://localhost:3001/api/orders",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["orders"]}),_e.success("Order added!",{position:"bottom-right",autoClose:5e3,theme:"colored"})},onError:t=>{console.log("Error adding order:",t),_e.error("Something went wrong!",{hideProgressBar:!0,closeOnClick:!0})}})},us=({open:e,setOpen:t})=>{var N,P,S,W;const r=cs(j=>j.availableProducts),[n,o]=i.useState(!1),l=i.useRef(null),{register:c,control:u,handleSubmit:h,reset:d,formState:{errors:m},watch:f,setValue:b}=Wt({resolver:Zt(er),defaultValues:{clientName:"",deliveryDetails:"",description:"",products:[]},mode:"onTouched",reValidateMode:"onChange"}),{fields:C,append:k,remove:oe,replace:K}=Jt({control:u,name:"products"}),Q=ds(),ne=j=>{const z={...j,orderDate:new Date,salesmanId:"d25f6cd6-a798-437c-b9e7-61f4a9ce2fc3",status:"Not Started"};Q.mutate(z,{onSuccess:()=>{d(),t(!1)}})},be=j=>{if(!j){if(!window.confirm("You have unsaved changes. Are you sure you want to discard them?"))return;d()}t(j)},ie=j=>{k({name:j.name,size:"",orderBy:"",quantity:1,rate:""}),o(!1),setTimeout(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},0)};return s.jsx(nr,{open:e,onOpenChange:be,children:s.jsxs(cr,{className:"max-w-full md:max-w-[700px] max-h-[95vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(ur,{children:"Add New Order"})}),s.jsxs("form",{onSubmit:h(ne),children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx(me,{label:"Client Name",placeholder:"Enter client name",...c("clientName"),error:(N=m.clientName)==null?void 0:N.message}),s.jsx(me,{label:"Delivery Option",placeholder:"Enter delivery details",...c("deliveryDetails"),error:(P=m.deliveryDetails)==null?void 0:P.message})]}),s.jsx("div",{className:"mt-2",children:s.jsx(me,{label:"Order description",placeholder:"Enter order description",...c("description"),error:(S=m.description)==null?void 0:S.message})}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Br,{modal:!0,open:n,onOpenChange:o,children:[s.jsx(Sr,{asChild:!0,children:s.jsxs(ge,{variant:"outline",size:"sm",children:[s.jsx(Xt,{className:"w-4 h-4 mr-1"}),"Add New Product"]})}),s.jsx(Rr,{className:"p-0 w-[300px] max-h-[300px] overflow-hidden",side:"bottom",align:"start",sideOffset:4,children:s.jsxs(Zr,{className:"w-full h-full",children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white px-2",children:s.jsx(es,{placeholder:"Search product..."})}),s.jsxs("div",{className:"overflow-y-auto max-h-[240px] px-2",children:[s.jsx(ts,{className:"py-2 text-sm text-muted-foreground",children:"No product found."}),s.jsx(rs,{children:r.map(j=>s.jsx(ss,{onSelect:()=>ie(j),children:s.jsxs("span",{className:"flex justify-between w-full",children:[j.name,s.jsxs("span",{className:"text-xs text-gray-400",children:[j.sizes.length," sizes"]})]})},j.name))})]})]})})]}),s.jsxs(ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>K([]),disabled:C.length===0,className:"text-red-500 hover:text-red-600",children:[s.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Remove All"]})]}),C.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No product selected."}),((W=m.products)==null?void 0:W.message)&&s.jsx("p",{className:"text-sm text-red-500 font-medium",children:m.products.message}),s.jsx("div",{className:"max-h-[400px] md:max-h-[220px] overflow-y-auto px-1 rounded-xl space-y-2",ref:l,children:C.map((j,z)=>{var F,X,Y,le,ce,de,ue,a,g,v,p,x,y,R,B,G,Ke;const L=r.find(I=>I.name===j.name),J=(L==null?void 0:L.sizes)??[],Ce=f(`products.${z}.size`),A=J.find(I=>I.size===Ce);return s.jsxs("div",{className:"relative grid grid-cols-2 gap-2 border border-gray-300 bg-gray-50 p-4 rounded-xl shadow-sm my-4",children:[s.jsx("div",{className:"absolute -top-3 left-2 text-sm text-gray-500 bg-white px-1 rounded flex items-center gap-2",children:j.name}),s.jsx("div",{className:"absolute -top-3 right-2",children:s.jsx(ge,{type:"button",variant:"ghost",size:"icon",onClick:()=>oe(z),className:"bg-red-100 hover:bg-red-200 text-red-600 rounded-full p-1 w-6 h-6","aria-label":"Remove product",children:s.jsx(sr,{className:"w-3 h-3"})})}),s.jsxs("div",{children:[s.jsx(Le,{label:"Size",value:f(`products.${z}.size`),onChange:I=>b(`products.${z}.size`,I),options:J.map(I=>I.size),placeholder:"Select size",error:(Y=(X=(F=m.products)==null?void 0:F[z])==null?void 0:X.size)==null?void 0:Y.message}),((ce=(le=m.products)==null?void 0:le[z])==null?void 0:ce.size)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:(ue=(de=m.products[z])==null?void 0:de.size)==null?void 0:ue.message})]}),s.jsx(me,{label:"Quantity",placeholder:"Enter quantity",...c(`products.${z}.quantity`,{valueAsNumber:!0}),error:(v=(g=(a=m.products)==null?void 0:a[z])==null?void 0:g.quantity)==null?void 0:v.message}),s.jsxs("div",{children:[s.jsx("div",{className:"flex gap-2",children:s.jsx(Le,{label:"Order By",value:f(`products.${z}.orderBy`),onChange:I=>b(`products.${z}.orderBy`,I),options:(A==null?void 0:A.orderBy)||[],placeholder:"Select",error:(y=(x=(p=m.products)==null?void 0:p[z])==null?void 0:x.orderBy)==null?void 0:y.message})}),((B=(R=m.products)==null?void 0:R[z])==null?void 0:B.orderBy)&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:(Ke=(G=m.products[z])==null?void 0:G.orderBy)==null?void 0:Ke.message})]}),s.jsx("div",{children:s.jsx(me,{label:"Custom rate",placeholder:"Enter custom rate",...c(`products.${z}.rate`)})})]},j.id)})})]}),s.jsx(ge,{type:"submit",className:"w-full mt-4",children:"Save Order"})]})]})})},fs=()=>{const[e,t]=Ee.useState(!1);return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsx(us,{open:e,setOpen:t})}),!e&&s.jsx("div",{children:s.jsxs(ge,{size:"lg",className:"rounded-full",onClick:()=>t(!0),children:[s.jsx(tr,{}),"New Order"]})})]})};export{fs as A};
